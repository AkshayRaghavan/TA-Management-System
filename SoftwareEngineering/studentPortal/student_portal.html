<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
		body{
			overflow-x:hidden;
		}
	</style>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>

</head>
<body>
	<div class="col-sm-12 h-100 d-flex flex-column">
		<div class="container-fluid bg-dark text-light text-center">
			<span style="font-size: 200%; font-weight:50;"> Welcome! <!--<span id ="update_username">User-name! </span>-->  </span>
			<a href ="http://localhost:8080/"><button class="btn btn-primary float-right">Logout</button></a>
		</div>

		<div class="row justify-content-center flex-grow-1 align-items-center">
			<div class="container rounded bg-dark text-light">
				<form action="http://localhost:8080/studentSubmit" method="post">
					<div class="form-group">
						<!-- Assuming roll number matches username for students just like AIMS -->
						<label for="uname">Roll Number:</label>
						<input type="text" class="form-control" placeholder="Enter Roll No." name="uname">
					</div>
					<div class="form-group">
						<label for="CGPA">CGPA:</label>
						<input type="text" class="form-control" placeholder="Enter CGPA" name="cgpa">
					</div>
					<!--<div class="form-group">
						<label for="Preferences">Enter Preferences (space separated, DESC ORDER of preference):</label>
						<textarea class="form-control" rows="3" name="pref"></textarea>
					</div>-->

					<!------------------------------->
					<div ng-app ="myApp" ng-controller="namesCtrl">
						<div class="form-group">
							<label for="Preferences">Enter Preferences (space separated, DESC ORDER of preference):</label>
							<textarea class="form-control" rows="3" name="pref" ng-model="value" readonly="readonly"></textarea>
						</div>
						<div class = "form-group">
							<div class="input-group mb-3">
						        <div class="input-group-prepend">
							    	<span class="input-group-text">Search</span>
							    </div>
						        <input type="text" class="form-control" id="search" placeholder="Search your courses here" name="search" ng-model="test" >
						    </div>
						    <ul style="list-style-type:none;">
								<li ng-click="addPref(x)" ng-repeat="x in names | filter : test">
									<a href="#">{{ x }}</a>
								</li>
							</ul>
						</div>
					</div>
					<!------------------------------->
					<button type="submit" class="btn btn-primary">Submit</button>
				</form>
			</div>
		</div>
	</div>
<!------------------------------->
<script>
angular.module('myApp', []).controller('namesCtrl', function($scope) {
    $scope.names = [
        'EE3030',
		'EE2020',
		'CS4444',
		'CS3333',
		'PH2222',
		'CH5555'
    ];
    $scope.value = '';
    $scope.addPref = function(x){
    	const idx = $scope.names.indexOf(x);
    	$scope.names.splice(idx,1);
    	$scope.value += x + ' ';
    }
});
</script>
<!------------------------------->
</body>
</html>
